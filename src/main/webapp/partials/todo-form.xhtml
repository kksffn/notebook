<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:jsf="http://xmlns.jcp.org/jsf"    
    xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:form id="add-form" prependId="false"> 
        <div ><h4>#{msg.addFormHeader}</h4></div>
        <p class="form-group">
            <h:inputTextarea id="todo-text" 
                             class="form-control" 
                             title="#{msg.todoText}" 
                             rows="3" 
                             p:placeholder="#{msg.todoText}" 
                             value="#{newTodoItem.text}"
                             required="true" 
                             requiredMessage="#{msg.messageTodoText}"></h:inputTextarea>
        </p>
        <p class="form-group">
            <h:outputLabel for="datetime" value="#{msg.deadlineLabel}"/>
            <input type="datetime-local" 
                   class="form-control" 
                   name="datetime" 
                   id="datetime"
                   jsf:id="datetime" 
                   jsf:value="#{newTodoItem.userInputDate}"
                   required="true" 
                   requiredMessage="#{msg.messageDeadline}">                        
                <f:convertDateTime for="datetime" timeStyle="full" 
                                   pattern="yyyy-MM-dd'T'HH:mm"
                                   type="both"/>
            </input>
        </p>   
        <p class="form-group">
            <h:outputLabel for="author" value="#{msg.authorLabel}"/>
            <h:selectOneMenu class="author"
                              id="author"
                              value ="#{newTodoItem.author}"
                              required="true" requiredMessage="Author is required">
                <f:selectItem itemValue="Ivo" itemLabel="Ivo"/>
                <f:selectItem itemValue="Olinka" itemLabel="Olinka"/>
            </h:selectOneMenu>
        </p>
        <hr/>
        <p class="form-group">
            <h:commandButton class="btn btn-sm btn-light" 
                            value = "#{msg.addFormButton}" 
                            action = "#{todoItemBean.createNewTask(newTodoItem)}"/>
        </p>                    
        <h:messages style="color: red;" layout="list"/>
    </h:form>
</ui:composition>

